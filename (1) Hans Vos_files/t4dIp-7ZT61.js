if (self.CavalryLogger) { CavalryLogger.start_js(["QxV+U"]); }

__d("MessengerForwardChatFlowSharedAttachmentsTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a=function(){__p&&__p();function a(){this.$1={}}var c=a.prototype;c.log=function(){b("GeneratedLoggerUtils").log("logger:MessengerForwardChatFlowSharedAttachmentsLoggerConfig",this.$1,b("Banzai").BASIC)};c.logVital=function(){b("GeneratedLoggerUtils").log("logger:MessengerForwardChatFlowSharedAttachmentsLoggerConfig",this.$1,b("Banzai").VITAL)};c.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:MessengerForwardChatFlowSharedAttachmentsLoggerConfig",this.$1,{signal:!0})};c.clear=function(){this.$1={};return this};c.getData=function(){return babelHelpers["extends"]({},this.$1)};c.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.setAttachmentID=function(a){this.$1.attachment_id=a;return this};c.setAttachmentType=function(a){this.$1.attachment_type=a;return this};c.setIsFromViewer=function(a){this.$1.is_from_viewer=a;return this};c.setTime=function(a){this.$1.time=a;return this};c.setVC=function(a){this.$1.vc=a;return this};c.setWeight=function(a){this.$1.weight=a;return this};c.updateExtraData=function(a){a=b("nullthrows")(b("GeneratedLoggerUtils").serializeMap(a));b("GeneratedLoggerUtils").checkExtraDataFieldNames(a,g);this.$1=babelHelpers["extends"]({},this.$1,a);return this};c.addToExtraData=function(a,b){var c={};c[a]=b;return this.updateExtraData(c)};return a}();var g={attachment_id:!0,attachment_type:!0,is_from_viewer:!0,time:!0,vc:!0,weight:!0};e.exports=a}),null);
__d("ChatPhotoForwardButton.react",["cx","fbt","Link.react","MessagingForwardAttachmentDialog.react","MessengerForwardChatFlowSharedAttachmentsTypedLogger","MessengerPhotoForwardConfig","React","TooltipData"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();a=b("React").PropTypes;c=function(a){__p&&__p();babelHelpers.inheritsLoose(c,a);function c(){var c,d;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(c=d=a.call.apply(a,[this].concat(f))||this,d.state={dialogShown:!1},d.$2=function(){d.props.attachmentIDs[0]&&d.props.attachmentTypes[0]&&new(b("MessengerForwardChatFlowSharedAttachmentsTypedLogger"))().setAttachmentID(d.props.attachmentIDs[0]).setIsFromViewer(d.props.isFromViewer).setAttachmentType(d.props.attachmentTypes[0]).log(),d.setState({dialogShown:!0})},d.$3=function(){d.setState({dialogShown:!1})},c)||babelHelpers.assertThisInitialized(d)}var d=c.prototype;d.render=function(){var a=h._("Forward"),c=this.props.isFromViewer?"left":"right";c=Object.assign({"data-tooltip-alignh":c},b("TooltipData").propsFor(a,c));var d=b("MessengerPhotoForwardConfig").showArrowIcon?"_3xqa":"_2t5t";return b("React").createElement("div",null,this.$1(),b("React").createElement(b("Link.react"),babelHelpers["extends"]({},this.props,c,{"aria-label":a,onClick:this.$2,ref:"forwardButton",role:"button",className:"_2t5q"+(this.props.isFromViewer?"":" _1_47")+(this.props.isFromViewer?" _1_48":"")}),b("React").createElement("div",{className:d})))};d.$1=function(){if(!this.state.dialogShown)return null;var a=h._("Forward in separate messages");return b("React").createElement(b("MessagingForwardAttachmentDialog.react"),{attachmentID:this.props.attachmentIDs[0],onClose:this.$3,shown:this.state.dialogShown,title:a})};return c}(b("React").PureComponent);c.propTypes={attachmentIDs:a.arrayOf(a.string).isRequired,isFromViewer:a.bool.isRequired};e.exports=c}),null);
__d("MessengerActionsIconSVGM4React.bs",["React"],(function(a,b,c,d,e,f){"use strict";function a(a){return b("React").createElement("svg",{height:"22px",width:"22px",viewBox:"0 0 36 36"},b("React").createElement("g",{id:"dots-3-horizontal",fill:"none",fillRule:"evenodd",stroke:"none",strokeWidth:"1"},b("React").createElement("g",{id:"Page-1",fill:a},b("React").createElement("path",{id:"Fill-1",d:"M7,18 C7,16.4815417 8.23154167,15.25 9.75,15.25 C11.2684583,15.25 12.5,16.4815417 12.5,18 C12.5,19.5189167 11.2684583,20.75 9.75,20.75 C8.23154167,20.75 7,19.5189167 7,18 Z M15.25,18 C15.25,16.4815417 16.4815417,15.25 18,15.25 C19.5184583,15.25 20.75,16.4815417 20.75,18 C20.75,19.5189167 19.5184583,20.75 18,20.75 C16.4815417,20.75 15.25,19.5189167 15.25,18 Z M23.5,18 C23.5,16.4815417 24.7315417,15.25 26.25,15.25 C27.7684583,15.25 29,16.4815417 29,18 C29,19.5189167 27.7684583,20.75 26.25,20.75 C24.7315417,20.75 23.5,19.5189167 23.5,18 Z"}))))}f.make=a}),null);
__d("MessengerContextualActions.react",["cx","ContextualLayerUpdateOnScroll","LayerHideOnBlur","Link.react","React","ReactAbstractContextualDialog","ReactLayer"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();a=b("React").PropTypes;var h=b("ReactLayer").createClass(b("ReactAbstractContextualDialog").createSpec({displayName:"MessengerContextualActionsDialog",theme:{wrapperClassName:"_hw2",arrowDimensions:{offset:12,length:12}}}));c=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){return b("React").createElement("li",{className:"_hw4"},b("React").createElement(b("Link.react"),{className:"_hw5",onClick:this.props.onClick},this.props.children))};return c}(b("React").Component);c.propTypes={onClick:a.func};d=function(a){babelHelpers.inheritsLoose(c,a);function c(){return a.apply(this,arguments)||this}var d=c.prototype;d.render=function(){var a=this.props,c=a.children;a=babelHelpers.objectWithoutPropertiesLoose(a,["children"]);return b("React").createElement(h,babelHelpers["extends"]({alignment:"center",behaviors:{ContextualLayerUpdateOnScroll:b("ContextualLayerUpdateOnScroll"),LayerHideOnBlur:b("LayerHideOnBlur")}},a,{onToggle:this.props.onToggle}),b("React").createElement("ul",{className:"_hw3"},c))};return c}(b("React").Component);d.propTypes={onToggle:a.func};d.Item=c;e.exports=d}),null);
__d("MessengerMessageActions.react",["ix","cssVar","cx","fbt","ContextualLayerAutoFlipHorizontal","ContextualLayerHideOnScrollOut","ContextualLayerUpdateOnScroll","CurrentUser","Image.react","LayerHideOnBlur","LayerHideOnEscape","MercuryMessageActions","MessengerActionsIconSVGM4React.bs","MessengerContextualActions.react","MessengerDotComAndInboxM4Check.bs","MessengerMessage.bs","MessengerReactionsMenu.react","React","WorkChatRedesignedMessageListCheck.re","asset","tooltipPropsFor"],(function(a,b,c,d,e,f,g,h,i,j){"use strict";__p&&__p();var k=b("MessengerContextualActions.react").Item;a=b("React").PropTypes;c=b("React").createClass({displayName:"MessengerMessageActions",propTypes:{hasFormatting:a.func,isActive:a.bool,isDeletable:a.bool,isFromViewer:a.bool,isShowingOriginal:a.bool,includeReactions:a.bool,message:a.object.isRequired,onToggleOriginal:a.func,onShowMenu:a.func.isRequired,onReplyToMessage:a.func,isSavedView:a.bool,renderActionItems:a.func},getDefaultProps:function(){return{isDeletable:!0}},getInitialState:function(){return{shown:!1,reactionsMenuOpen:!1,hover:!1}},render:function(){var a=this,c=null;b("WorkChatRedesignedMessageListCheck.re").enabled?c=b("React").createElement(b("Image.react"),{src:this.state.hover?g("895434"):g("610910")}):b("CurrentUser").isWorkUser()?c=b("React").createElement(b("Image.react"),{src:g("559623")}):b("MessengerDotComAndInboxM4Check.bs").yes?c=b("MessengerActionsIconSVGM4React.bs").make(this.state.hover?"black":"rgba(0, 0, 0, 0.34)"):c=b("React").createElement(b("Image.react"),{src:g("559622")});var d=j._("More"),e=this.state.shown;e=e?null:b("tooltipPropsFor")(d,"above","center");return this.props.isActive?b("React").createElement("span",babelHelpers["extends"]({},e,{className:"_2rvp"+(b("MessengerDotComAndInboxM4Check.bs").yes?" _7i2l":""),ref:"actions",onClick:this._toggleShown,onMouseEnter:function(b){return a.setState({hover:!0})},onMouseLeave:function(b){return a.setState({hover:!1})}}),c,this.renderMenu(),this.renderLayers()):null},renderMenu:function(){var a=this;return!this.state.reactionsMenuOpen?null:b("React").createElement(b("MessengerReactionsMenu.react"),{entryPoint:"dot_menu",message:this.props.message,onHide:this._hideReactionsPopover,refProp:function(){return a.refs.actions}})},_openReactionsPopover:function(){this.setState({reactionsMenuOpen:!0,shown:!1})},_hideReactionsPopover:function(){this.setState({reactionsMenuOpen:!1})},renderLayers:function(){var a=this;return!this.state.shown?null:b("React").createElement(b("MessengerContextualActions.react"),{behaviors:{ContextualLayerAutoFlipHorizontal:b("ContextualLayerAutoFlipHorizontal"),ContextualLayerHideOnScrollOut:b("ContextualLayerHideOnScrollOut"),ContextualLayerUpdateOnScroll:b("ContextualLayerUpdateOnScroll"),LayerHideOnEscape:b("LayerHideOnEscape"),LayerHideOnBlur:b("LayerHideOnBlur")},context:this.refs.actions,key:"dialog",onToggle:this._handleActionsToggle,shown:this.props.isActive},this._renderRetry(),this.props.renderActionItems&&this.props.renderActionItems({closeActionList:function(){return a._handleActionsToggle(!1)},openReactionsPopover:function(){return a._openReactionsPopover()}}))},_toggleShown:function(a){var b=this;a.stopPropagation();this.setState({shown:!this.state.shown},function(){return b.props.onShowMenu(b.state.shown)})},_renderRetry:function(){return!b("MessengerMessage.bs").hasError(this.props.message)?null:b("React").createElement(k,{onClick:this._handleRetry},j._("Try Again"))},_handleActionsToggle:function(a){a||this._handleDeselect()},_handleDeselect:function(){var a=this;this.setState({shown:!1},function(){return a.props.onShowMenu(a.state.shown)})},_handleRetry:function(){this._handleDeselect(),b("MercuryMessageActions").get().resend(this.props.message)}});e.exports=c}),null);